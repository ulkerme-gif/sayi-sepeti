<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sayƒ± Sepeti Oyunu</title>
<style>
  body { margin:0; overflow:hidden; font-family:sans-serif; }
  canvas { display:block; margin:auto; margin-top:20px; border:3px solid #ff9800; }
  #bilgi { text-align:center; font-size:18px; color:#333; }
  #yapan { font-size:16px; color:#555; margin-top:-10px; margin-bottom:10px; }
</style>
</head>
<body>

<div id="bilgi">
  <h2>üéØ Sayƒ± Sepeti Oyunu</h2>
  <div id="yapan">Yapan: <strong>Mete √úLKER</strong></div>
  <p>A≈üama: <span id="asama">1</span> | ‚ù§Ô∏è <span id="kalp">2</span> | Puan: <span id="puan">0</span></p>
</div>

<canvas id="oyun" width="400" height="500"></canvas>

<script>
const canvas = document.getElementById("oyun");
const ctx = canvas.getContext("2d");

let sepet = {x:180, y:420, w:60, h:30};
let puan=0, kalp=2, asama=1;
let hiz=3;
let oyunAktif=false;
let baslamaEkrani=true;
let asamaBasladi=false;

let sayilar = []; // D√º≈üen sayƒ±lar
let siyahToplar = []; // Hasar veren toplar

const arkaPlanRenk="#87CEEB";
const toprakRenk="#8B4513";
const toprakY=450;

// Rastgele sayƒ± olu≈ütur
function rastgeleSayi() {
  let deger;
  if(asama===1){ deger=Math.floor(Math.random()*10); }
  else if(asama===2){ deger=Math.floor(Math.random()*21)-10; }
  else { deger=(Math.random()*4-2).toFixed(1); }
  return {x:Math.random()*350, y:-20, deger:deger};
}

// Sayƒ±larƒ± olu≈ütur (sƒ±ralƒ±, 2 sayƒ±)
function sayilariOlustur(){
  sayilar=[];
  let pozisyonlar=[];
  // ƒ∞lk sayƒ±
  let s1 = rastgeleSayi();
  pozisyonlar.push(s1.x);
  sayilar.push(s1);

  // 1 saniye sonra ikinci sayƒ±
  setTimeout(()=>{
    let s2;
    do { s2 = rastgeleSayi(); } 
    while(pozisyonlar.some(p=>Math.abs(p-s2.x)<50));
    sayilar.push(s2);
  }, 1000);

  // Siyah hasar toplarƒ± spawn
  siyahToplar=[];
  pozisyonlar=[];
  for(let i=0;i<2;i++){
    let t;
    do{ t = {x:Math.random()*350, y:-20, r:10}; } 
    while(pozisyonlar.some(p=>Math.abs(p-t.x)<50));
    pozisyonlar.push(t.x);
    siyahToplar.push(t);
  }
}

// √áizim
function ciz(){
  ctx.fillStyle=arkaPlanRenk;
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle=toprakRenk;
  ctx.fillRect(0,toprakY,canvas.width,canvas.height-toprakY);

  if(baslamaEkrani){
    ctx.fillStyle="black";
    ctx.font="25px Arial";
    ctx.textAlign="center";
    if(!asamaBasladi) ctx.fillText("Ba≈ülamak i√ßin tƒ±klayƒ±n", canvas.width/2, canvas.height/2);
    else {
      let asamaYazi = asama===1 ? "Doƒüal Sayƒ±lar" : asama===2 ? "Tam Sayƒ±lar" : "Rasyonel Sayƒ±lar";
      ctx.fillText("A≈üama "+asama+": "+asamaYazi, canvas.width/2, canvas.height/2-20);
      ctx.fillText("Ba≈ülamak i√ßin dokun", canvas.width/2, canvas.height/2+20);
    }
    return;
  }

  // Sepet
  ctx.fillStyle="#FF8C00";
  ctx.fillRect(sepet.x,sepet.y,sepet.w,sepet.h);
  ctx.fillStyle="#FFB74D"; // tente
  ctx.fillRect(sepet.x-5,sepet.y-15,sepet.w+10,10);

  // Sayƒ±lar
  ctx.font="30px Arial";
  ctx.fillStyle="#1565c0";
  sayilar.forEach(s=> ctx.fillText(s.deger,s.x,s.y));

  // Siyah toplar
  siyahToplar.forEach(t=>{
    ctx.fillStyle="black";
    ctx.beginPath();
    ctx.arc(t.x,t.y,t.r,0,Math.PI*2);
    ctx.fill();
  });

  // Kalpler ve puan
  ctx.fillStyle="red";
  ctx.font="20px Arial";
  ctx.fillText("‚ù§Ô∏è ".repeat(kalp), 10, 30);
  ctx.fillStyle="black";
  ctx.fillText("Puan: "+puan, 300, 30);

  if(kalp<=0){
    ctx.fillStyle="red";
    ctx.font="30px Arial";
    ctx.fillText("Oyun Bitti!",canvas.width/2,canvas.height/2);
    oyunAktif=false;
    baslamaEkrani=true;
    asamaBasladi=false;
  }
}

// G√ºncelleme
function guncelle(){
  if(!oyunAktif) return;

  // Sayƒ±larƒ± d√º≈ü√ºr
  sayilar.forEach(s=>{
    s.y+=hiz;
    if(s.y>sepet.y-20 && s.x>sepet.x-10 && s.x<sepet.x+sepet.w+10){
      puan+=10;
      sayilar = sayilar.filter(x=>x!==s);
    }
    else if(s.y>toprakY){
      puan-=10;
      sayilar = sayilar.filter(x=>x!==s);
    }
  });

  // Siyah toplarƒ± d√º≈ü√ºr
  siyahToplar.forEach(t=>{
    t.y+=hiz;
    if(t.y>sepet.y-10 && t.x>sepet.x-10 && t.x<sepet.x+sepet.w+10){
      kalp--;
      siyahToplar = siyahToplar.filter(x=>x!==t);
    } 
    else if(t.y>toprakY){
      siyahToplar = siyahToplar.filter(x=>x!==t);
    }
  });

  if(sayilar.length==0 && siyahToplar.length==0) sayilariOlustur();

  document.getElementById("puan").innerText=puan;
  document.getElementById("kalp").innerText=kalp;

  if(kalp<=0){ oyunAktif=false; baslamaEkrani=true; asamaBasladi=false; }

  if(puan>=100){
    asama++;
    if(asama>3){ oyunAktif=false; baslamaEkrani=true; asamaBasladi=false; }
    else{
      puan=0; kalp=2; hiz+=1;
      document.getElementById("asama").innerText=asama;
      baslamaEkrani=true;
      asamaBasladi=false;
    }
  }
}

// Oyun d√∂ng√ºs√º
function dongu(){ guncelle(); ciz(); requestAnimationFrame(dongu); }
dongu();

// Klavye kontrolleri
window.addEventListener("keydown",(e)=>{
  if(!oyunAktif) return;
  if(e.key==="ArrowLeft") sepet.x-=20;
  if(e.key==="ArrowRight") sepet.x+=20;
  if(sepet.x<0) sepet.x=0;
  if(sepet.x>340) sepet.x=340;
});

// Dokunmatik kontroller
let baslamaX=null;
canvas.addEventListener("touchstart",(e)=>{
  if(!oyunAktif) return;
  baslamaX=e.touches[0].clientX;
});
canvas.addEventListener("touchmove",(e)=>{
  if(!oyunAktif) return;
  let hareket=e.touches[0].clientX-baslamaX;
  sepet.x+=hareket;
  if(sepet.x<0) sepet.x=0;
  if(sepet.x>340) sepet.x=340;
  baslamaX=e.touches[0].clientX;
});

// Ba≈ülama tƒ±klamasƒ±
canvas.addEventListener("click",()=>{
  if(baslamaEkrani){
    baslamaEkrani=false;
    oyunAktif=true;
    if(!asamaBasladi){
      puan=0; kalp=2; hiz=3;
      document.getElementById("puan").innerText=puan;
      document.getElementById("kalp").innerText=kalp;
      document.getElementById("asama").innerText=asama;
      asamaBasladi=true;
      sayilariOlustur();
    }
  }
});
</script>
</body>
</html>

</body>
</html>
